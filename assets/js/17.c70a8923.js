(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{828:function(e,s,t){},861:function(e,s,t){"use strict";t(828)},906:function(e,s,t){"use strict";t.r(s);var i={name:"UploadFile",inheritAttrs:!1,props:{showFileList:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:()=>({files:[]}),watch:{files:{handler:function(){!this.showFileList&&this.files.length&&this.files.every(e=>"success"===e.status)&&setTimeout(()=>{this.files.splice(0)},500)},deep:!0}},methods:{parsePercentage:e=>e>=99?99:parseInt(e,10),onProgress(e,s,t){this.files=t},onError(){this.$message.warning("上传失败，请重新上传")},remove(e){this.$confirm("确定要取消上传该文件吗？","提示",{type:"warning"}).then(()=>{this.$refs.upload.abort(e),this.files.splice(this.files.indexOf(e),1)})},close(){if(this.files.every(e=>"success"===e.status))this.files.splice(0);else{const e=this.files.filter(e=>"success"!==e.status);this.$confirm(`有 ${e.length} 项上传任务正在进行。确定要取消上传吗？`,"提示",{type:"warning"}).then(()=>{this.$refs.upload.abort(),this.files.splice(0)})}},handleClick(e){this.onPreview&&this.onPreview(e)}}},l=(t(861),t(24)),a=Object(l.a)(i,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-upload",e._g(e._b({ref:"upload",staticClass:"upload-file",attrs:{"show-file-list":e.showFileList,disabled:e.disabled,"on-error":e.onError,"on-progress":e.onProgress}},"el-upload",e.$attrs,!1),e.$listeners),[e._t("trigger",null,{slot:"trigger"}),e._v(" "),e._t("default",(function(){return[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("点击上传")])]})),e._v(" "),e._t("tip",null,{slot:"tip"}),e._v(" "),t("el-dialog",{staticClass:"upload-dialog",attrs:{title:"上传列表","append-to-body":"",visible:!e.showFileList&&e.files.length>0,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.close},on:{"update:visible":function(s){return e.$set(!e.showFileList&&e.files,"length > 0",s)}}},[t("transition-group",{class:["el-upload-list","el-upload-list--text",{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,(function(s){return t("li",{key:s.name,class:["el-upload-list__item2","is-"+s.status]},[t("a",{staticClass:"el-upload-list__item-name",on:{click:function(t){return e.handleClick(s)}}},[t("i",{staticClass:"el-icon-document"}),e._v(e._s(s.name)+"\n        ")]),e._v(" "),t("i",{class:{"el-icon-success":"success"===s.status,"el-icon-close":"success"!==s.status,"circle-check":!0},on:{click:function(t){"success"!==s.status?e.remove(s):e.handleClick(s)}}}),e._v(" "),"uploading"===s.status?t("el-progress",{attrs:{type:"line","stroke-width":2,percentage:e.parsePercentage(s.percentage)}}):e._e()],1)})),0)],1)],2)}),[],!1,null,"9961d9fa",null);s.default=a.exports}}]);